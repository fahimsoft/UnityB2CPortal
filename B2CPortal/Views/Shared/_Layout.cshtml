<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Home || Dastak Xpress</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="@Url.Content("~/Content/Asset/img/favicon.ico")">

    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <!-- Place favicon.ico in the root directory -->
    <!-- google fonts -->
    <link href='https://fonts.googleapis.com/css?family=Lato:400,900,700,300' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Bree+Serif' rel='stylesheet' type='text/css'>
    <!-- all css here -->
    <!-- bootstrap v3.3.6 css -->
    <link rel="stylesheet" href="@Url.Content("~/Content/Asset/css/bootstrap.min.css")">
    <!-- animate css -->
    <link rel="stylesheet" href="@Url.Content("~/Content/Asset/css/animate.css")">
    <!-- pe-icon-7-stroke -->
    <link rel="stylesheet" href="@Url.Content("~/Content/Asset/css/materialdesignicons.min.css")">
    <!-- pe-icon-7-stroke -->
    <link rel="stylesheet" href="@Url.Content("~/Content/Asset/css/jquery.simpleLens.css")">
    <!-- jquery-ui.min css -->
    <link rel="stylesheet" href="@Url.Content("~/Content/Asset/css/jquery-ui.min.css")">
    <!-- meanmenu css -->
    <link rel="stylesheet" href="@Url.Content("~/Content/Asset/css/meanmenu.min.css")">
    <!-- nivo.slider css -->
    <link rel="stylesheet" href="@Url.Content("~/Content/Asset/css/nivo-slider.css")">
    <!-- owl.carousel css -->
    <link rel="stylesheet" href="@Url.Content("~/Content/Asset/css/owl.carousel.css")">
    <!-- style css -->
    <link rel="stylesheet" href="@Url.Content("~/Content/Asset/css/style.css")">
    <!-- responsive css -->
    <link rel="stylesheet" href="@Url.Content("~/Content/Asset/css/responsive.css")">
    <!-- modernizr js -->
    <script src="@Url.Content("~/Content/Asset/js/vendor/modernizr-2.8.3.min.js")"></script>

    <link data-require="toastr" data-semver="2.1.2" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.1.2/toastr.min.css" />
    <script data-require="toastr" data-semver="2.1.2" src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.1.2/toastr.min.js"></script>
    <script data-require="jquery@2.2.0" data-semver="2.2.0" src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    @*<link rel="stylesheet" href="style.css" />
        <script src="script.js"></script>*@

    <style>
        .list-btn > a:hover {
            cursor: pointer;
        }
        a {

            cursor: pointer;
        }
/*        #cartdrop {
            height: 500px;
            margin: 0 auto;
        }

        .totalPriceDetails {
            position: absolute;
            top: 400px;
            background-color:aqua;
        }
*/



        #cartdrop {
            overflow: auto;
            height: 500px;
        }
/*        .totalPriceDetails {
            top: 500px;
            bottom: 0;
            position: fixed;
            overflow-y: scroll;
            overflow-x: hidden;
            background-color:antiquewhite;
        }*/
/*
        .totalPriceDetails {
            background: #f2f2f2;
            position: fixed;
            width: 50px;
            height: 70px;
            margin-left: 250px;
            border: 0px solid #d6d6d6;
        */}

    </style>

    @Html.Partial("_Header")
</head>
<body>


    @*<div class="container body-content">

            <hr />


        </div>*@
    @RenderBody()
    @Html.Partial("_Footer")
    <script src="@Url.Content("~/Scripts/moment.js")"></script>
    <!-- jquery latest version -->
    <script src="@Url.Content("~/Content/Asset/js/vendor/jquery-1.12.3.min.js")"></script>
    <!-- bootstrap js -->
    <script src="@Url.Content("~/Content/Asset/js/bootstrap.min.js")"></script>
    <!-- owl.carousel js -->
    <script src="@Url.Content("~/Content/Asset/js/owl.carousel.min.js")"></script>
    <!-- meanmenu js -->
    <script src="@Url.Content("~/Content/Asset/js/jquery.meanmenu.js")"></script>
    <!-- countdown JS -->
    <script src="@Url.Content("~/Content/Asset/js/countdown.js")"></script>
    <!-- nivo.slider JS -->
    <script src="@Url.Content("~/Content/Asset/js/jquery.nivo.slider.pack.js")"></script>
    <!-- simpleLens JS -->
    <script src="@Url.Content("~/Content/Asset/js/jquery.simpleLens.min.js")"></script>
    <!-- jquery-ui js -->
    <script src="@Url.Content("~/Content/Asset/js/jquery-ui.min.js")"></script>
    <!-- load-more js -->
    <script src="@Url.Content("~/Content/Asset/js/load-more.js")"></script>
    <!-- plugins js -->
    <script src="@Url.Content("~/Content/Asset/js/plugins.js")"></script>
    <!-- main js -->
    <script src="@Url.Content("~/Content/Asset/js/main.js")"></script>

    <script src="@Url.Content("~/Scripts/jquery.validate.min.js")"></script>
    <script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")"></script>
    <script src="@Url.Content("~/Scripts/Common.js")"></script>

    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    @Scripts.Render("~/bundles/lib")
    @RenderSection("scripts", required: false)


<script>
        @*$(document).ready(function () {
            ShowCartProducts();
        });
        function ShowCartProducts() {
            $.ajax({
                type: "POST",
                url: "/Product/GetCartCount",
                data: { },
                success: function (data) {
                    var html = "";
                    let dataobj = JSON.parse(data.data);

                    dataobj.cartproducts.map(function (item, index) {
                        html += ` <div class="sin-itme clearfix">
                    <i  onclick="RemoveCartProduct(${item.Id})" class="mdi mdi-close removecartbtn"></i>
                    <a class="cart-img" href="cart.html"><img src="${item.MasterImageUrl}" alt="" /></a>
                    <div class="menu-cart-text">
                        <a href="#"><h5>${item.Name}</h5></a>
                        <span>Quantity: ${item.Quantity}</span>
                        <strong>PKR.${item.TotalPrice.toLocaleString()} </strong>
                    </div>
                </div> `;
                    });
                    html +=` <div class="total">
                                <span>total <strong>= PKR. ${dataobj.totalprice.toLocaleString() }</strong></span>
                            </div>
                            <a class="goto" href="@Url.Action("AddToCart","Product")"> go to cart</a>
                            <a class="out-menu" href="checkout.html">Check out</a>`;


                    $('#cartdrop').html(html);
                    $('#productaddtocart').html(dataobj.cartproductscount);
                    $('#totalprice').html(dataobj.totalprice.toLocaleString() );

                }
            });

        }
    function RemoveCartProduct(id) {
        
        //var row = $(this).closest("tr");
        //var id = $(row).attr('data-id');
        $.ajax({
            type: "POST",
            url: '@Url.Action("DeleteCart", "Product")',
            data: {
                id: id,
            },
            success: function (data) {
                ShowCartProducts();
                toastr.success(data.msg);
                $(row).remove();
                return false;

            }
        });
    }

    function HandleAddtocart(id) {
        
        var proid = $(id).attr("productIdList");
        //var guid = document.cookie.split('=')[1];
        $.ajax({
            type: "POST",
            url: "/Product/AddToCart",
            data: {
                proid: proid,
                guid: guid,
            },
            success: function (data) {
                ShowCartProducts();
                toastr.success("Product Add to Cart successfully.");

            }
        });

    }*@

</script>

</body>
</html>
